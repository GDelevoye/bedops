.. _summary:

Summary
=======

These tables summarize BEDOPS utilities by option, file inputs and BED column requirements.

=======================================
Statistical and set operation utilities
=======================================

----------
bedextract
----------

* Efficiently extracts features from BED input.
* BEDOPS :ref:`bedextract` documentation

+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| option                       | description                                                          | min. file inputs | max. file inputs | min. BED columns |
+==============================+======================================================================+==================+==================+==================+
| ``--list-chr``               | Print every chromosome found in ``input.bed``                        | 1                | 1                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``<chromosome>``             | Retrieve all rows for specified chromosome, *e.g.* ``bedextract chr8 | 1                | 1                | 3                |
|                              | input.bed``                                                          |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``<query> <reference>``      | Grab elements of ``query`` that overlap elements in reference. Same  | 2                | 2                | 3                |
|                              | as ``bedops -e -1 query reference``, except that this option fails   |                  |                  |                  |
|                              | when ``query`` contains fully-nested BED elements. May use ``-`` to  |                  |                  |                  |
|                              | indicate ``stdin`` for ``reference`` only.                           |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+

------
bedmap
------

* Maps source signals from ``map-file`` onto qualified target regions from ``ref-file``. Calculates an output for every ``ref-file`` element.
* BEDOPS :ref:`bedmap` documentation

+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| option                       | description                                                          | min. file inputs | max. file inputs | min. BED columns |
+==============================+======================================================================+==================+==================+==================+
| ``--bases``                  | Reports the total number of bases from ``map-file`` that overlap the | 1                | 2                | 3                |
|                              | ``ref-file`` 's element.                                             |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--bases-uniq``             | Reports the number of distinct bases from ``ref-file`` 's element    | 1                | 2                | 3                |
|                              | overlapped by elements in ``map-file``.                              |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--bases-uniq-f``           | Reports the fraction of distinct bases from ``ref-file`` 's element  | 1                | 2                | 3                |
|                              | elements in ``map-file``.                                            |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--bp-ovr <int>``           | Require ``<int>`` bases of overlap between elements of input files.  | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--chrom <chromosome>``     | Process data for given ``<chromosome>`` only.                        | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--count``                  | Reports the number of overlapping elements in ``map-file``.          | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--cv``                     | Reports the Coefficient of Variation: the result of ``--stdev``      | 1                | 2                | 5                | 
|                              | divided by the result of ``--mean``.                                 |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--ec``                     | Error check all input files (slower).                                | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo``                   | Echo each line from ``ref-file``.                                    | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo-map``               | Reports the overlapping elements found in ``map-file``.              | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo-map-id``            | Reports the IDs (4th column) from overlapping ``map-file`` elements. | 1                | 2                | 4                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo-map-id-uniq``       | List unique IDs from overlapping ``map-file`` elements.              | 1                | 2                | 4                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo-map-range``         | Reports the genomic range of overlapping elements from ``map-file``. | 1                | 2                | 3                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--echo-map-score``         | Reports the scores (5th column) from overlapping ``map-file``        | 1                | 2                | 5                |
|                              | elements.                                                            |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--faster``                 | **(Advanced)** Strong input assumptions are made. Review documents   | 1                | 2                | 5                |
|                              | before use. Compatible with ``--bp-ovr`` and ``--range`` overlap     |                  |                  |                  |
|                              | options only.                                                        |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--fraction-ref <val>``     | The fraction of the element's size from ``ref-file`` that must       | 1                | 2                | 5                |
|                              | overlap the element in ``map-file``. Expects ``0 < val <= 1``.       |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--fraction-map <val>``     | The fraction of the element's size from ``map-file`` that must       | 1                | 2                | 5                |
|                              | overlap the element in ``ref-file``. Expects ``0 < val <= 1``.       |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--fraction-both <val>``    | Both ``--fraction-ref <val>`` and ``--fraction-map <val>`` must be   | 1                | 2                | 5                |
|                              | true to qualify as overlapping. Expects ``0 < val <= 1``.            |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--fraction-either <val>``  | Both ``--fraction-ref <val>`` and ``--fraction-map <val>`` must be   | 1                | 2                | 5                |
|                              | true to qualify as overlapping. Expects ``0 < val <= 1``.            |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--exact``                  | Shorthand for ``--fraction-both 1``. First three fields from         | 1                | 2                | 5                |
|                              | ``map-file`` must be identical to ``ref-file`` element.              |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--indicator``              | Reports the presence of one or more overlapping elements in          | 1                | 2                | 3                |
|                              | ``map-file`` as a binary value (``0`` or ``1``).                     |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--kth <val>``              | Reports the value at the *k* th fraction. A generalized median-like  | 1                | 2                | 5                |
|                              | calculation, where ``--kth 0.5`` is the median. (``0 < val <= 1``)   |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--mad <mult=1>``           | Reports the 'median absolute deviation' of overlapping elements in   | 1                | 2                | 5                |
|                              | ``map-file``, multiplied by ``<mult>``.                              |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--max``                    | Reports the highest score from overlapping elements in ``map-file``. | 1                | 2                | 5                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--max-element``            | An element with the highest score from overlapping elements in       | 1                | 2                | 5                |
|                              | ``map-file``. If no overlapping element exists, ``NAN`` is reported. |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--mean``                   | Reports the average score from overlapping elements in ``map-file``. | 1                | 2                | 5                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--median``                 | Reports the median score from overlapping elements in ``map-file``.  | 1                | 2                | 5                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--min``                    | Reports the lowest score from overlapping elements in ``map-file``.  | 1                | 2                | 5                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--min-element``            | An element with the lowest score from overlapping elements in        | 1                | 2                | 5                |
|                              | ``map-file``. If no overlapping element exists, ``NAN`` is reported. |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--stdev``                  | Reports the square root of the result of ``--variance``.             | 1                | 2                | 5                |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--sum``                    | Reports the accumulated value from scores of overlapping elements in | 1                | 2                | 5                |
|                              | ``map-file``.                                                        |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--tmean <low> <hi>``       | Reports the mean score from overlapping elements in ``map-file``,    | 1                | 2                | 5                |
|                              | after ignoring the bottom ``<low>`` and top ``<hi>`` fractions of    |                  |                  |                  |
|                              | those scores. (``0 <= low <= 1``, ``0 <= hi <= 1``, ``low + hi <=    |                  |                  |                  |
|                              | 1``).                                                                |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+
| ``--variance``               | Reports the variance of scores from overlapping elements in          | 1                | 2                | 5                |
|                              | ``map-file``.                                                        |                  |                  |                  |
+------------------------------+----------------------------------------------------------------------+------------------+------------------+------------------+

.. |--| unicode:: U+2013   .. en dash
.. |---| unicode:: U+2014  .. em dash, trimming surrounding whitespace
   :trim:
